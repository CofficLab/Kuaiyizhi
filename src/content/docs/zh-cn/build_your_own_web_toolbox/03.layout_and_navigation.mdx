---
title: 基础布局与导航菜单
description: 实现网站的基础布局和响应式导航菜单
---

## 基础布局设计

在这一节中，我们将实现网站的基础布局和导航菜单。一个好的布局不仅要美观，还要具有良好的用户体验和可维护性。

### 创建默认布局

1. 创建默认布局组件：

```vue
<!-- layouts/default.vue -->
<script setup lang="ts">
import { ref } from 'vue'

// 控制移动端菜单显示
const isMobileMenuOpen = ref(false)

// 导航菜单项
const menuItems = [
  { name: '首页', path: '/' },
  { name: '天气查询', path: '/weather' },
  { name: '快递查询', path: '/express' },
  {
    name: '更多工具',
    path: '/tools',
    children: [
      { name: '二维码工具', path: '/tools/qrcode' },
      { name: '汇率转换', path: '/tools/currency' }
    ]
  }
]

// 切换移动端菜单
function toggleMobileMenu() {
  isMobileMenuOpen.value = !isMobileMenuOpen.value
}
</script>

<template>
  <div class="min-h-screen bg-base-100">
    <!-- 导航栏 -->
    <nav class="navbar bg-base-200">
      <div class="navbar-start">
        <!-- 移动端菜单按钮 -->
        <div class="lg:hidden">
          <button class="btn btn-ghost" @click="toggleMobileMenu">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-5 w-5"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              />
            </svg>
          </button>
        </div>
        <!-- Logo -->
        <NuxtLink to="/" class="btn btn-ghost text-xl">Web Toolbox</NuxtLink>
      </div>

      <!-- 桌面端菜单 -->
      <div class="navbar-center hidden lg:flex">
        <ul class="menu menu-horizontal px-1">
          <li v-for="item in menuItems" :key="item.path">
            <NuxtLink :to="item.path">
              {{ item.name }}
              <svg
                v-if="item.children"
                class="fill-current"
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 24 24"
              >
                <path d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z" />
              </svg>
            </NuxtLink>
            <ul v-if="item.children" class="p-2 bg-base-200">
              <li v-for="child in item.children" :key="child.path">
                <NuxtLink :to="child.path">{{ child.name }}</NuxtLink>
              </li>
            </ul>
          </li>
        </ul>
      </div>

      <!-- 主题切换 -->
      <div class="navbar-end">
        <ThemeToggle />
      </div>
    </nav>

    <!-- 移动端菜单 -->
    <div
      v-show="isMobileMenuOpen"
      class="lg:hidden fixed inset-0 z-50 bg-base-100"
    >
      <div class="p-4">
        <button class="btn btn-ghost" @click="toggleMobileMenu">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M6 18L18 6M6 6l12 12"
            />
          </svg>
        </button>
      </div>
      <ul class="menu menu-vertical px-4">
        <li v-for="item in menuItems" :key="item.path">
          <NuxtLink :to="item.path" @click="toggleMobileMenu">
            {{ item.name }}
          </NuxtLink>
          <ul v-if="item.children" class="pl-4">
            <li v-for="child in item.children" :key="child.path">
              <NuxtLink :to="child.path" @click="toggleMobileMenu">
                {{ child.name }}
              </NuxtLink>
            </li>
          </ul>
        </li>
      </ul>
    </div>

    <!-- 主要内容 -->
    <main class="container mx-auto px-4 py-8">
      <slot />
    </main>

    <!-- 页脚 -->
    <footer class="footer footer-center p-4 bg-base-200 text-base-content">
      <div>
        <p>Copyright © 2024 - All rights reserved by Web Toolbox</p>
      </div>
    </footer>
  </div>
</template>
```

### 主题切换组件

创建一个主题切换组件，允许用户在浅色和深色主题之间切换：

```vue
<!-- components/ThemeToggle.vue -->
<script setup lang="ts">
import { ref, onMounted } from 'vue'

const theme = ref('light')

// 初始化主题
onMounted(() => {
  const savedTheme = localStorage.getItem('theme') || 'light'
  theme.value = savedTheme
  document.documentElement.setAttribute('data-theme', savedTheme)
})

// 切换主题
function toggleTheme() {
  const newTheme = theme.value === 'light' ? 'dark' : 'light'
  theme.value = newTheme
  document.documentElement.setAttribute('data-theme', newTheme)
  localStorage.setItem('theme', newTheme)
}
</script>

<template>
  <button class="btn btn-ghost" @click="toggleTheme">
    <!-- 太阳图标 -->
    <svg
      v-if="theme === 'dark'"
      xmlns="http://www.w3.org/2000/svg"
      class="h-5 w-5"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"
      />
    </svg>
    <!-- 月亮图标 -->
    <svg
      v-else
      xmlns="http://www.w3.org/2000/svg"
      class="h-5 w-5"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"
      />
    </svg>
  </button>
</template>
```

### 页面过渡动画

添加页面过渡动画，提升用户体验：

```vue
<!-- app.vue -->
<script setup lang="ts">
// 配置页面过渡动画
const pageTransition = {
  name: 'page',
  mode: 'out-in'
}
</script>

<template>
  <NuxtLayout :transition="pageTransition">
    <NuxtPage />
  </NuxtLayout>
</template>

<style>
.page-enter-active,
.page-leave-active {
  transition: all 0.2s;
}
.page-enter-from,
.page-leave-to {
  opacity: 0;
  transform: translateY(10px);
}
</style>
```

## 布局配置

### 配置默认布局

在 `nuxt.config.ts` 中配置默认布局：

```typescript
// nuxt.config.ts
export default defineNuxtConfig({
  // ...
  app: {
    layoutTransition: {
      name: 'layout',
      mode: 'out-in'
    },
    pageTransition: {
      name: 'page',
      mode: 'out-in'
    }
  }
})
```

### DaisyUI 主题配置

在 `tailwind.config.js` 中配置 DaisyUI 主题：

```javascript
/** @type {import('tailwindcss').Config} */
export default {
  // ...
  daisyui: {
    themes: [
      {
        light: {
          ...require('daisyui/src/theming/themes')['light'],
          primary: '#3b82f6',
          secondary: '#8b5cf6'
        },
        dark: {
          ...require('daisyui/src/theming/themes')['dark'],
          primary: '#3b82f6',
          secondary: '#8b5cf6'
        }
      }
    ]
  }
}
```

## 下一步

现在我们已经完成了基础布局和导航菜单的实现，接下来我们将：

1. 实现天气查询功能
2. 设计天气卡片组件
3. 集成天气 API
4. 添加城市搜索功能