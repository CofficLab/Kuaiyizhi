---
import AppLayout from '../layouts/AppLayout.astro';
export const prerender = false;

// 获取浏览器首选语言
const preferredLocale = Astro.preferredLocale;
const currentLocale = Astro.currentLocale;

// 使用 preferredLocale 如果存在，否则使用 currentLocale
const locale = preferredLocale || currentLocale;

console.log('🖥️  IndexPage: locale', locale);
console.log('🖥️  IndexPage: redirect to', `/${locale}/blogs`);

// return Astro.redirect(`/${locale}/blogs`);
---

<AppLayout lang={locale} title="博客" description="博客" />

<script define:vars={{ locale }}>
    window.location.href = `/${locale}/blogs`;
</script>
