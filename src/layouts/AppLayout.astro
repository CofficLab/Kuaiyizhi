---
import StarlightPage from '@astrojs/starlight/components/StarlightPage.astro';
import type { AppLayoutProps } from '../interface/AppLayoutProps';

const {
    title,
    description,
    frontmatter,
    template,
    hasSidebar,
    headings,
    sidebar,
    hidePageTitle,
} = Astro.props as AppLayoutProps;
---

<StarlightPage
    frontmatter={{
        title: title ?? frontmatter.title,
        description: description ?? frontmatter.description,
        template: template ?? 'splash',
    }}
    sidebar={sidebar}
    hasSidebar={hasSidebar ?? false}
    headings={headings}>
    {hidePageTitle && (
        <style is:global>
            .content-panel {
                border-top: 0 !important;
            }
            main .content-panel:first-child {
                display: none;
            }
        </style>
    )}
    <slot />
</StarlightPage>
