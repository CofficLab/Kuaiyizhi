---
import AppLayout from './AppLayout.astro';
import { getTags } from '../database/docs';
import type SidebarItem from '../interface/SidebarItem';
import type { BlogLayoutProps } from '../interface/BlogLayoutProps';

const { title, description, lang } = Astro.props as BlogLayoutProps;
const tags = await getTags(lang);
const sidebarItems: SidebarItem[] = tags.map((tag) => ({
    label: tag,
    link: `/blogs/tags/${tag}`,
}));
---

<AppLayout
    title={title}
    description={description}
    template="splash"
    frontmatter={{
        title: title,
        description: description,
        draft: true,
    }}
    hasSidebar={true}
    sidebar={sidebarItems}
    headings={[]}>
    <slot />
</AppLayout>
